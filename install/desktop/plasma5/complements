#!/bin/bash
. ./lib

options=()
options+=("kmix" "" on)
options+=("partitionmanager" "" on)
#options+=("kdesu" "" on)
#options+=("kdesu4" "" on)
options+=("breeze-kde4" "" on)
options+=("gnome-keyring" "" on)
options+=("gnome-breeze-git" "(AUR)" on)
options+=("sni-qt" "" on)
options+=("lib32-sni-qt" "" off)
options+=("libappindicator-gtk2" "(AUR)" on)
options+=("lib32-libappindicator-gtk2" "(AUR)" off)
options+=("libappindicator-gtk3" "(AUR)" on)
options+=("lib32-libappindicator-gtk3" "(AUR)" off)
options+=("xembed-sni-proxy-git" "(AUR)" on)
#options+=("kdeconnect" "" off)
#options+=("sshfs" "(For kdeconnect)" off)

sel=$(whiptail --backtitle "$apptitle" --title "Plasma Complements :" --checklist "" --cancel-button "Back" 0 0 0 \
  "${options[@]}" \
  3>&1 1>&2 2>&3)
if [ ! "$?" = "0" ]; then
  exit 1
fi

for itm in $sel; do
  case $itm in
    '"gnome-breeze-git"' | \
    '"libappindicator-gtk2"' | \
    '"lib32-libappindicator-gtk2"' | \
    '"libappindicator-gtk3"' | \
    '"lib32-libappindicator-gtk3"' | \
    '"xembed-sni-proxy-git"') aurpkg="$aurpkg $(echo $itm | sed 's/"//g')";;
    *) pkg="$pkg $(echo $itm | sed 's/"//g')";;
  esac
done

instpkg "$pkg" "$aurpkg"

exit 0
